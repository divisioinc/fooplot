{"version":3,"sources":["lib/constants.js","lib/index.js","sample.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["FOOPLOT_TYPE_FUNCTION","FOOPLOT_TYPE_POLAR","FOOPLOT_TYPE_PARAMETRIC","FOOPLOT_TYPE_POINTS","FOOPLOT_MODE_MOVE","FOOPLOT_MODE_ZOOMBOX","FOOPLOT_MODE_INTERSECTION","FOOPLOT_MODE_TRACE","FOOPLOT_UNITS_PI","FOOPLOT_UNITS_E","FOOPLOT_MSIE","navigator","userAgent","toLowerCase","indexOf","FOOPLOT_MATH","sin","Math","cos","tan","asin","acos","atan","abs","floor","ceil","exp","sqrt","max","min","sec","x","csc","cot","asec","acsc","acot","ln","log","sinh","cosh","tanh","asinh","acosh","atanh","sech","csch","coth","asech","acsch","acoth","u","FOOPLOT_CONSTANTS","FOOPLOT_INSTANCES","FooplotSVGRecorder","width","height","font","textAlign","svgHeader","svgBody","svgFooter","lineWidth","strokeStyle","fillStyle","y","path_d","moveToX","moveToY","clear","fillText","_text","_x","_y","_textAnchor","beginPath","moveTo","isNaN","toFixed","lineTo","stroke","fillRect","_w","_h","getSVG","_svg","Fooplot","container","options","push","style","overflow","position","webkitUserSelect","MozUserSelect","userSelect","unselectable","cursor","cover","document","createElement","zIndex","background","filter","opacity","appendChild","subcontainer","recorder","toolcontainer","top","marginTop","marginLeft","padding","webkitBorderRadius","visibility","addToolSeparator","newtool","display","border","marginRight","addToolButton","image","action","modeId","tooltip","className","title","onmousedown","onmouseup","onmouseout","onclick","i","parentNode","_self","selectMode","toolsMode","tool","id","hideIntersection","intersectionPoint","intersectionDisplay","hideTrace","tracePoint","traceDisplay","selectedMode","obj","zoomTimeout","zoomSelf","zoomPendingFactor","zoom","factor","window","clearTimeout","FOOPLOT_TRANSITIONS","canvas","OTransition","webkitTransition","MozTransition","msTransition","webkitTransform","MozTransform","msTransform","OTransform","setTimeout","centerx","xmax","xmin","centery","ymax","ymin","reDraw","onWindowChange","toolZoomIn","toolZoomOut","toolMove","toolZoomBox","toolTrace","toolIntersection","zoomboxBox","left","traceDisplayText","createTextNode","webkitBoxShadow","MozBoxShadow","OBoxShadow","msBoxShadow","boxShadow","intersectionDisplayText","context","vars","pi","e","s","t","theta","plots","plotlastid","xgrid","ygrid","xgridunits","ygridunits","showGrid","showAxes","showTicks","showLabels","gridColor","axesColor","labelsColor","backgroundColor","setSize","offsetWidth","offsetHeight","setAttribute","G_vmlCanvasManager","initElement","error","webkitBackfaceVisibility","getContext","getRealGrid","realxgrid","realygrid","orderfull","order","rem","parseFloat","pow","drawGrid","px","py","g","drawLabels","printx","printy","orderx","ordery","tryToMakeFraction","round","drawAxes","isMouseDown","dragInitX","dragInitY","dpx","dpy","onmousemove","event","preventDefault","srcElement","target","offx","offsetLeft","offy","offsetTop","mx","pageX","body","scrollLeft","clientX","my","pageY","scrollTop","clientY","initx","inity","showTrace","dx","dy","parseInt","newxmin","newymax","newxmax","newymin","showIntersection","lastTouch","ontouchmove","touches","length","_touch","mousemove","ontouchstart","mousedown","ontouchend","mouseup","onmousewheel","returnValue","delta","wheelDelta","detail","addEventListener","drawPoints","points","drawFunction","jeq","thisIsNaN","lastOnScreen","lastIsNaN","thisOnScreen","lastpx","lastpy","lasty","lastychange","isRedoLoop","started","pxstep","drawPolar","thetamin","thetamax","thetastep","r","drawParametric","jeqx","jeqy","smin","smax","sstep","findIntersection","jeq0","jeq1","xpd","y0","y1","ypd","d","minDistance","besti","besty","nodeValue","j","yi","yj","bestPair","plotstmp","slice","unshift","type","xroot","testnum","numerator","denominator","toString","parseEquationError","parseEquationHasElement","v","parseEquationFixPowers","parseEquationIsArray","splice","Array","parseEquationFixFunctions","undefined","parseEquationEror","constructor","parseEquationJoinArray","parseEquation","eq","tokens","pstart","replace","split","match","eval","parseConst","consts","f","console","color","addPlot","size","deletePlot","plotid","deleteAllPlots","getGrid","setGrid","getWindow","setWindow","w","setBackgroundColor","setLabelsColor","setAxesColor","setGridColor","setShowAxes","setShowTicks","setShowLabels","setShowGrid","b","documentElement","p","charAt","toUpperCase","substr","CONSTANTS","main","myPlot","getElementById","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","k","dep","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"sample.03484568.js","sourceRoot":"..","sourcesContent":["// interface \"constants\"\n\nexport const FOOPLOT_TYPE_FUNCTION=0;\nexport const FOOPLOT_TYPE_POLAR=1;\nexport const FOOPLOT_TYPE_PARAMETRIC=2;\nexport const FOOPLOT_TYPE_POINTS=3;\n\nexport const FOOPLOT_MODE_MOVE=1;\nexport const FOOPLOT_MODE_ZOOMBOX=2;\nexport const FOOPLOT_MODE_INTERSECTION=3;\nexport const FOOPLOT_MODE_TRACE=4;\n\nexport const FOOPLOT_UNITS_PI=1;\nexport const FOOPLOT_UNITS_E=2;\n\nexport const FOOPLOT_MSIE=(navigator.userAgent.toLowerCase().indexOf('msie')!=-1);\n\n\n// extended math functions\nexport const FOOPLOT_MATH = {\n  sin: Math.sin,\n  cos: Math.cos,\n  tan: Math.tan,\n  asin: Math.asin,\n  acos: Math.acos,\n  atan: Math.atan,\n  abs: Math.abs,\n  floor: Math.floor,\n  ceil: Math.ceil,\n  exp: Math.exp,\n  sqrt: Math.sqrt,\n  max: Math.max,\n  min: Math.min,\n  sec: function(x) { return 1/Math.cos(x) },\n  csc: function(x) { return 1/Math.sin(x) },\n  cot: function(x) { return 1/Math.tan(x) },\n  asec: function(x) { return Math.acos(1/x) },\n  acsc: function(x) { return Math.asin(1/x) },\n  acot: function(x) { return Math.atan(1/x) },\n  ln: function(x) { return Math.log(x) },\n  log: function(x) { return Math.log(x)/Math.log(10) },\n  sinh: function(x) { return (Math.exp(x)-Math.exp(-x))/2 },\n  cosh: function(x) { return (Math.exp(x)+Math.exp(-x))/2 },\n  tanh: function(x) { return (Math.exp(x)-Math.exp(-x))/(Math.exp(x)+Math.exp(-x)) },\n  asinh: function(x) { return Math.log(x+Math.sqrt(x*x+1)) },\n  acosh: function(x) { return Math.log(x+Math.sqrt(x*x-1)) },\n  atanh: function(x) { return 0.5*Math.log((1+x)/(1-x)) },\n  sech: function(x) { return 2/(Math.exp(x)+Math.exp(-x)) },\n  csch: function(x) { return 2/(Math.exp(x)-Math.exp(-x)) },\n  coth: function(x) { return (Math.exp(x)+Math.exp(-x))/(Math.exp(x)-Math.exp(-x)) },\n  asech: function(x) { return Math.log(1/x+Math.sqrt(1/x/x-1)) },\n  acsch: function(x) { return Math.log(1/x+Math.sqrt(1/x/x+1)) },\n  acoth: function(x) { return 0.5*Math.log((1+x)/(1-x)) },\n  u: function(x) { return (x>=0) },\n}","/********************************************************************\nOnline plotter:   http://fooplot.com/\nPersonal website: http://dheera.net/\n\n--------------------- DO NOT REMOVE THIS NOTICE ---------------------\nFooPlot embeddable plotter v2.0\nCopyright (C) 2012 Dheera Venkatraman <dheera@dheera.net>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU Lesser General Public License as\npublished by the Free Software Foundation, either version 3 of the\nLicense, or (at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Lesser General Public License for more details.\n\nYou should have received a copy of the GNU Lesser General Public\nLicense along with this program.  If not,\nsee <http://www.gnu.org/licenses/>.\n\n---------------------------------------------------------------------\n\nThis code is in BETA; some features are incomplete and the code\ncould be written better. If you are only intending to embed a single\nplot into your webpage, it is suggested to use the 'Get Embed Code'\nfeature on www.fooplot.com to get an IFRAME-based plotter that is\nhotlinked to the latest version of this code.\n\n********************************************************************/\n\nimport * as FOOPLOT_CONSTANTS from \"./constants\";\n\nconst {\n  FOOPLOT_MATH,\n  FOOPLOT_TYPE_FUNCTION,\n  FOOPLOT_TYPE_POLAR,\n  FOOPLOT_TYPE_PARAMETRIC,\n  FOOPLOT_TYPE_POINTS,\n  FOOPLOT_MODE_MOVE,\n  FOOPLOT_MODE_ZOOMBOX,\n  FOOPLOT_MODE_INTERSECTION,\n  FOOPLOT_MODE_TRACE,\n  FOOPLOT_UNITS_PI,\n  FOOPLOT_UNITS_E,\n  FOOPLOT_MSIE,\n} = FOOPLOT_CONSTANTS;\n\n// keeps track of all instances, mainly for being able to access the class in event handlers\n\nconst FOOPLOT_INSTANCES = [];\n\nfunction FooplotSVGRecorder() {\n  // drop-in replacement for certain features of the relevant features\n  // of canvas, so that we can record an svg version for generating\n  // other formats\n  this.width = null;\n  this.height = null;\n  this.font = \"\";\n  this.textAlign = \"\";\n  this.svgHeader = \"\";\n  this.svgBody = \"\";\n  this.svgFooter = \"\";\n  this.lineWidth = 1;\n  this.strokeStyle = \"#000000\";\n  this.fillStyle = \"#ffffff\";\n  this.x = 0;\n  this.y = 0;\n  this.path_d = \"\";\n  this.moveToX = null;\n  this.moveToY = null;\n  this.clear = function () {\n    this.svgBody = \"\";\n  };\n  this.fillText = function (_text, _x, _y) {\n    var _textAnchor = \"start\";\n    if (this.textAlign === \"center\") _textAnchor = \"middle\";\n    if (this.textAlign === \"right\") _textAnchor = \"end\";\n    this.svgBody +=\n      '<text x=\"' +\n      _x +\n      '\" y=\"' +\n      _y +\n      '\" text-anchor=\"' +\n      _textAnchor +\n      '\" style=\"font:' +\n      this.font +\n      \";stroke:none;fill:\" +\n      this.fillStyle +\n      '\">' +\n      _text +\n      \"</text>\";\n  };\n  this.beginPath = function () {\n    this.path_d = \"\";\n  };\n  this.moveTo = function (_x, _y) {\n    if (!isNaN(_x) && !isNaN(_y)) {\n      this.moveToX = _x.toFixed(2);\n      this.moveToY = _y.toFixed(2);\n    }\n  };\n  this.lineTo = function (_x, _y) {\n    if (this.moveToX) {\n      this.path_d += \"M\" + this.moveToX + \" \" + this.moveToY + \" \";\n      this.moveToX = null;\n      this.moveToY = null;\n    }\n    this.path_d += \"L\" + _x.toFixed(2) + \" \" + _y.toFixed(2) + \" \";\n  };\n  this.stroke = function () {\n    this.svgBody +=\n      '<path d=\"' +\n      this.path_d +\n      '\" style=\"fill:none;stroke:' +\n      this.strokeStyle +\n      \";stroke-width:\" +\n      this.lineWidth +\n      ';\" />';\n    this.path_d = \"\";\n  };\n  this.fillRect = function (_x, _y, _w, _h) {\n    this.svgBody +=\n      '<rect x=\"' +\n      _x.toFixed(2) +\n      '\" y=\"' +\n      _y.toFixed(2) +\n      '\" width=\"' +\n      _w.toFixed(2) +\n      '\" height=\"' +\n      _h.toFixed(2) +\n      '\" style=\"fill:' +\n      this.fillStyle +\n      ';stroke:none;\" />';\n  };\n  this.getSVG = function () {\n    var _svg = \"\";\n    _svg += '<?xml version=\"1.0\" standalone=\"no\"?>';\n    _svg +=\n      '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">';\n    _svg +=\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ' +\n      this.width +\n      \" \" +\n      this.height +\n      '\" version=\"1.1\">';\n    _svg +=\n      '<clipPath id=\"box\"><rect x=\"0\" y=\"0\" width=\"' +\n      this.width +\n      '\" height=\"' +\n      this.height +\n      '\" style=\"fill:none;stroke:none;\" /></clipPath>';\n    _svg += '<g clip-path=\"url(#box)\">';\n    _svg += this.svgBody;\n    _svg += \"</g></svg>\";\n    return _svg;\n  };\n}\n\nfunction Fooplot(container, options) {\n  // PRIVATE: INITIALISATION AND BASIC FUNCTIONS\n\n  FOOPLOT_INSTANCES.push(this);\n\n  this.container = container;\n  this.container.style.overflow = \"hidden\";\n  this.container.style.position = \"relative\";\n  this.container.style.webkitUserSelect = \"none\";\n  this.container.style.MozUserSelect = \"none\";\n  this.container.style.userSelect = \"none\";\n  if (FOOPLOT_MSIE) this.container.unselectable = true;\n  this.container.style.cursor = \"move\";\n\n  this.cover = document.createElement(\"div\");\n  this.cover.style.position = \"absolute\";\n  this.cover.style.width = \"100%\";\n  this.cover.style.height = \"100%\";\n  this.container.style.webkitUserSelect = \"none\";\n  this.container.style.MozUserSelect = \"none\";\n  if (FOOPLOT_MSIE) this.cover.unselectable = true;\n  this.cover.style.zIndex = 100;\n  this.cover.style.background = \"#ffffff\";\n  this.cover.style.filter = \"alpha(opacity=0)\";\n  this.cover.style.opacity = 0;\n  this.container.appendChild(this.cover);\n\n  this.subcontainer = document.createElement(\"div\");\n  this.subcontainer.style.position = \"absolute\";\n  this.subcontainer.style.zIndex = \"1\";\n  this.subcontainer.style.webkitUserSelect = \"none\";\n  this.subcontainer.style.userSelect = \"none\";\n  if (FOOPLOT_MSIE) this.subcontainer.unselectable = true;\n  this.container.appendChild(this.subcontainer);\n\n  this.recorder = new FooplotSVGRecorder();\n\n  this.toolcontainer = document.createElement(\"div\");\n  this.toolcontainer.style.position = \"absolute\";\n  this.toolcontainer.style.top = \"100%\";\n  this.toolcontainer.style.zIndex = \"200\";\n  this.toolcontainer.style.opacity = 0.7;\n  this.toolcontainer.style.marginTop = \"-60px\";\n  this.toolcontainer.style.marginLeft = \"10px\";\n  this.toolcontainer.style.padding = \"10px\";\n  this.toolcontainer.style.height = \"32px\";\n  this.toolcontainer.style.webkitBorderRadius = \"5px\";\n  this.toolcontainer.style.visibility = \"hidden\";\n  this.container.appendChild(this.toolcontainer);\n\n  this.addToolSeparator = function () {\n    var newtool = document.createElement(\"div\");\n    newtool.style.display = \"inline\";\n    newtool.style.width = \"32px\";\n    newtool.style.height = \"1px\";\n    newtool.style.border = \"0px\";\n    newtool.style.padding = \"0px\";\n    newtool.style.marginRight = \"15px\";\n    this.toolcontainer.appendChild(newtool);\n  };\n\n  this.addToolButton = function (image, action, modeId, tooltip) {\n    var newtool = document.createElement(\"button\");\n    newtool.className = \"fooplot-tool\";\n    newtool.style.width = \"32px\";\n    if (tooltip) newtool.title = tooltip;\n    newtool.style.background = image;\n    newtool.style.position = \"relative\";\n    newtool.style.height = \"32px\";\n    newtool.style.border = \"0px\";\n    newtool.style.padding = \"0px\";\n    newtool.style.marginRight = \"15px\";\n    newtool.style.cursor = \"pointer\";\n    if (!modeId) {\n      newtool.onmousedown = function () {\n        this.style.opacity = 0.7;\n        this.style.filter = \"alpha(opacity=70)\";\n      };\n      newtool.onmouseup = function () {\n        this.style.opacity = 1;\n        this.style.filter = \"\";\n      };\n      newtool.onmouseout = function () {\n        this.style.opacity = 1;\n        this.style.filter = \"\";\n      };\n      newtool.onclick = action;\n    } else {\n      newtool.onclick = function () {\n        for (let i in FOOPLOT_INSTANCES)\n          if (this.parentNode === FOOPLOT_INSTANCES[i].toolcontainer)\n            var _self = FOOPLOT_INSTANCES[i];\n        _self.selectMode(this);\n      };\n      this.toolsMode.push({ tool: newtool, id: modeId });\n    }\n    this.toolcontainer.appendChild(newtool);\n    return newtool;\n  };\n\n  this.hideIntersection = function () {\n    this.intersectionPoint.style.visibility = \"hidden\";\n    this.intersectionDisplay.style.visibility = \"hidden\";\n  };\n\n  this.hideTrace = function () {\n    this.tracePoint.style.visibility = \"hidden\";\n    this.traceDisplay.style.visibility = \"hidden\";\n  };\n\n  this.toolsMode = [];\n  this.selectedMode = FOOPLOT_MODE_MOVE;\n  this.selectMode = function (obj) {\n    this.hideIntersection();\n    this.hideTrace();\n    for (let i in this.toolsMode) {\n      if (this.toolsMode[i].tool === obj || this.toolsMode[i].id === obj) {\n        this.selectedMode = this.toolsMode[i].id;\n        this.toolsMode[i].tool.style.opacity = 0.7;\n        this.toolsMode[i].tool.style.filter = \"alpha(opacity=70)\";\n      } else {\n        this.toolsMode[i].tool.style.opacity = 1;\n        this.toolsMode[i].tool.style.filter = \"\";\n      }\n    }\n  };\n\n  this.zoomTimeout = null;\n  this.zoomSelf = null;\n  this.zoomPendingFactor = 1;\n\n  this.zoom = function (factor) {\n    if (this.zoomTimeout) window.clearTimeout(this.zoomTimeout);\n    if (\n      FOOPLOT_TRANSITIONS &&\n      this.canvas &&\n      this.canvas.style &&\n      factor != 1\n    ) {\n      this.canvas.style.OTransition = \"-o-transform 0.4s ease\";\n      this.canvas.style.webkitTransition = \"-webkit-transform 0.4s ease\";\n      this.canvas.style.MozTransition = \"-moz-transform 0.4s ease\";\n      this.canvas.style.msTransition = \"-webkit-transform 0.4s ease\";\n      this.canvas.style.webkitTransform += \"scale(\" + factor + \")\";\n      this.canvas.style.MozTransform += \"scale(\" + factor + \")\";\n      this.canvas.style.msTransform += \"scale(\" + factor + \")\";\n      this.canvas.style.OTransform += \"scale(\" + factor + \")\";\n    }\n    this.hideIntersection();\n    this.hideTrace();\n    this.zoomSelf = this;\n    this.zoomPendingFactor *= factor;\n    this.zoomTimeout = window.setTimeout(\n      function (_self) {\n        if (!_self)\n          for (let i in FOOPLOT_INSTANCES)\n            if (FOOPLOT_INSTANCES[i].zoomSelf)\n              var _self = FOOPLOT_INSTANCES[i].zoomSelf;\n        var centerx = (_self.xmax + _self.xmin) / 2;\n        var centery = (_self.ymax + _self.ymin) / 2;\n        _self.xmax = (_self.xmax - centerx) / _self.zoomPendingFactor + centerx;\n        _self.xmin = (_self.xmin - centerx) / _self.zoomPendingFactor + centerx;\n        _self.ymax = (_self.ymax - centery) / _self.zoomPendingFactor + centery;\n        _self.ymin = (_self.ymin - centery) / _self.zoomPendingFactor + centery;\n        _self.zoomPendingFactor = 1;\n        _self.reDraw();\n        _self.canvas.style.OTransition = \"color 0 ease\"; // opera hack\n        _self.canvas.style.webkitTransition = \"\";\n        _self.canvas.style.MozTransition = \"\";\n        _self.canvas.style.msTransition = \"\";\n        _self.canvas.style.webkitTransform = \"\";\n        _self.canvas.style.MozTransform = \"\";\n        _self.canvas.style.msTransform += \"\";\n        _self.canvas.style.OTransform = \"\";\n        _self.onWindowChange([_self.xmin, _self.xmax, _self.ymin, _self.ymax]);\n        _self.zoomTimeout = null;\n        _self.zoomSelf = null;\n      },\n      FOOPLOT_TRANSITIONS ? 450 : 0,\n      this\n    );\n  };\n\n  this.toolZoomIn = this.addToolButton(\n    \"url('data:image/gif;base64,R0lGODlhIAAgAPZRAP9/AP+AAP+AAf+AAv+BA/+BBP+DB/+GDf+GDv+HD/+KFv+LGP+MGv+OHf+PH/+QIv+UKf+UKv+YMv+aNv+bN/+gQf+iRf+jSP+kSf+nUP+oUv+pU/+pVP+qVv+sWf+wYf+xY/+2bv+5c/+8ev+9fP+/gP/Bg//Chv/Eiv/Gjf/HkP/Jk//Ll//Mmf/Onv/Qof/Ysv/bt//cuf/cuv/du//evf/evv/gwf/gwv/hw//jx//kyv/mzf/nz//s2v/v3//v4P/w4f/w4v/x4//y5v/06v/27f/48f/59P/69v/79//7+P/8+f/8+v/9+//+/f/+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAFIALAAAAAAgACAAAAf+gFJSAAEAhoeIiYqJglKFi5CRhwGDkpaSj5eak5oGDJuaFio6SFFGMycQoIoJLlGvsK9IIpmgFECxua85CqsJQ7lAP0S5MKsvuUuGFLofmxi6ygDMuUe9ly3Ry7pRHpo8uk3buimXBk2vNQnrCYYG7AmlUTmXD7AytYpLr0OXAfIyDAg0YCjAQAPyYmjKoW0atxOaVDSklguDJgnoYkmjCAtIO00lko2LVQGUAXCxePTwoUvDqgY1uIVzCSpACHm5hoyQ16TDKgAOQLDYUaQGig7tMOyL0oTmT0hKX/V8GgkDT1VUF0UtkbUqCUX5uiIKKxaRo7KJKAkihLaQoEAAOw==')\",\n    function () {\n      for (let i in FOOPLOT_INSTANCES)\n        if (this.parentNode === FOOPLOT_INSTANCES[i].toolcontainer)\n          var _self = FOOPLOT_INSTANCES[i];\n      _self.zoom(2);\n    },\n    null,\n    \"Zoom In\"\n  );\n\n  this.toolZoomOut = this.addToolButton(\n    \"url('data:image/gif;base64,R0lGODlhIAAgAPZLAP9/AP+AAP+AAf+AAv+BBP+DB/+GDf+GDv+HD/+KFv+LF/+LGP+MGv+OHf+PH/+QIv+UKf+UKv+YMv+bN/+gQf+iRf+jSP+kSf+nUP+oUv+pU/+pVP+qVv+rWP+sWf+wYf+xY/+zZ/+2bv+5c/+8ev+9fP+/gP/Bg//Chv/Eiv/Gjf/HkP/Jk//Ll//Mmf/Onv/Qof/Ysv/bt//cuv/evf/evv/gwf/gwv/hw//jx//kyv/mzf/v4P/w4f/w4v/x4//06v/27f/48f/59P/69v/79//7+P/8+v/9+//+/f/+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAEwALAAAAAAgACAAAAfXgExMAAEAhoeIiYqJgkyFi5CRhwGDkpaSj5eak5oFDJuaFSw5Q0tBMygQoIoIL0uvsK9DI5mgEzyxua84CqsIP7rBMaswwcYfmxfGxkILmi7Lxh2aO9HBKpcFR7khCt7exbE2lw+604gtuT+XAaWx54fpsTKaOda6KJoq97kXmhL8YPFAsKlEwCUUQBWoxi/DqgY1+B1xCCqACHfqSLg7wmEVgAcfWugAUiMFB4IXjLya6FFSypUdW0K6sFGVzEUvTdyMdKHEzlW1fipyJDQRJUFFDRUSFAgAOw==')\",\n    function () {\n      for (let i in FOOPLOT_INSTANCES)\n        if (this.parentNode === FOOPLOT_INSTANCES[i].toolcontainer)\n          var _self = FOOPLOT_INSTANCES[i];\n      _self.zoom(0.5);\n    },\n    null,\n    \"Zoom Out\"\n  );\n\n  this.addToolSeparator();\n\n  this.toolMove = this.addToolButton(\n    \"url('data:image/gif;base64,R0lGODlhIAAgAPY/AP9/AP+AAP+AAf+AAv+BBP+CBf+FDP+GDv+HD/+IEf+IEv+JE/+KFv+MGv+NG/+OHf+PH/+PIP+QIf+QIv+TKP+UKf+bOP+dPP+fQP+jSP+oUv+pVP+rWP+uXf+xY/+1a/+3cP+6dv+7d/+7eP+8ef+9e/++ff/Dh//DiP/Hj//Ikv/Klf/Ll//LmP/NnP/Pn//du//fv//hw//ixv/kyv/lzP/mzv/o0f/o0v/p1P/t2//u3v/v4P/w4f/+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAEAALAAAAAAgACAAAAf0gEBAAAEAhoeIiYqHhYJAhYuRkoyDk4mQloaYlhw5D5mEoAAjPz87E6KWBC6lpaepkQgwra09qLCJDhYWIKUiGhsXuJEZpRbDk8U/x8jExs0TwonKzIgUm4sRPBuK1IogLJMPOz8a3c+JvSiRDjq+u/C8pR7xuymlJIoBOLT9/v+lPijqALDgPxmLTPjKwLAhqR8gGjZsUYoGgkisMJxb9u2HjQWRAhCAoXEaOkQgcICchCDCxmqHMjBo5q3Zopo2TXLMaSgDCHClWIwYUSEngxv+VGAbpsAGrXU8DSGYgU/U0kUIYoCIqg/WI66UBIXi2QhIIAA7')\",\n    null,\n    FOOPLOT_MODE_MOVE,\n    \"Move\"\n  );\n\n  this.toolZoomBox = this.addToolButton(\n    \"url('data:image/gif;base64,R0lGODlhIAAgAPYAAP9/AP+AAP+AAf+AAv+BA/+BBP+CBf+DB/+GDf+GDv+HD/+KFv+LGP+MGv+OHf+PH/+QIv+TJ/+UKf+UKv+YMv+bN/+gQf+iRf+jSP+kSf+nT/+nUP+oUv+pU/+pVP+qVv+sWf+uXv+wYf+xY/+1a/+2bv+3b/+5c/+8ev+9fP+/gP/Bg//Chv/Eiv/Gjf/Hj//HkP/Jk//JlP/Ll//Mmf/Onv/Qof/Xr//Ysv/bt//cuv/evf/evv/gwf/gwv/hw//jx//kyv/mzf/r1//v4P/w4f/w4v/x4//06v/27f/48f/59P/69v/79//7+P/8+v/9+//9/P/+/f/+/v///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAFUALAAAAAAgACAAAAf+gFVVAAEAhoeIiYqHhYJVhYuRkoyDk5aTkJeajJoHDZuaFzFAS1RJOiwSoIoKNVSvsK9LJ5mgFUSxua8/C6sKR09LT03CS07Gx1Q4qzZUGoaQAdKHL1Qimxmvz4qZ1Uq9lzTahgfl5geG1VQfmkLjADe5JumvL5cHT+/xsfMA6j+XIMDatg9WP3VELgUo5cxQwVcHX+nQ5OPdjCEYMYagR2WFJnXbJIHUROGdSCpEFGxKQYVEhJcwY0ZoZgHUAXe6cnJY5WBHTl1Pdq4ywTAXERQMg64C8GDEjCBIdrT4oDKDk1dP2C2VZBWr0K2Lur5SBXYRhqsqykrCkELtqloObhU9ipsogCO60AAICgQAOw==')\",\n    null,\n    FOOPLOT_MODE_ZOOMBOX,\n    \"Zoom Box\"\n  );\n\n  this.toolTrace = this.addToolButton(\n    \"url('data:image/gif;base64,R0lGODlhIAAgAMYAAP9/AP+AAP+AAf+AAv+BBP+CBf+FDP+GDv+HD/+IEf+IEv+JE/+KFv+MGv+NG/+OHf+PH/+PIP+QIf+QIv+TKP+UKf+bOP+dPP+fQP+jSP+oUv+pVP+rWP+uXf+xY/+1a/+3cP+6dv+7d/+7eP+8ef+9e/++ff/Dh//DiP/Hj//Ikv/Klf/Ll//LmP/NnP/Pn//du//fv//hw//ixv/kyv/lzP/mzv/o0f/o0v/p1P/t2//u3v/v4P/w4f/+/v////9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/ACH5BAEAAD4ALAAAAAAgACAAAAdfgD4+AAEAhoeIiYqHhYI+hYuRkoyDk5aTkJeajJudnp+goaKjpKWmp6iJP6urqD+qr6SxirOgtbSsnre4rZu7vL+jrL2ph8GmxMUAw8rNzs/Q0YqZ0qePxQGOhKaNPoEAOw==')\",\n    null,\n    FOOPLOT_MODE_TRACE,\n    \"Trace\"\n  );\n\n  this.toolIntersection = this.addToolButton(\n    \"url('data:image/gif;base64,R0lGODlhIAAgAMYAAP9/AP+AAP+AAf+AAv+BBP+CBf+FDP+GDv+HD/+IEf+IEv+JE/+KFv+MGv+NG/+OHf+PH/+PIP+QIf+QIv+TKP+UKf+bOP+dPP+fQP+jSP+oUv+pVP+rWP+uXf+xY/+1a/+3cP+6dv+7d/+7eP+8ef+9e/++ff/Dh//DiP/Hj//Ikv/Klf/Ll//LmP/NnP/Pn//du//fv//hw//ixv/kyv/lzP/mzv/o0f/o0v/p1P/t2//u3v/v4P/w4f/+/v////9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/AP9/ACH5BAEAAD4ALAAAAAAgACAAAAdygD4+AAEAhoeIiYqHhYI+hYuRkoyDk5aTkJeajJuRP52gn6CaP6Kjlqank6mqi6ytiq+opaWeo6yyspK5ibq7trS+tp7BsLHFxojBwqe0yb2HzJ24z7ywvrXNl9mb0tHe3rfP44uZ5OeLj+gBjoTPjT6BADs=')\",\n    null,\n    FOOPLOT_MODE_INTERSECTION,\n    \"Find Intersections and Roots\"\n  );\n\n  this.zoomboxBox = document.createElement(\"div\");\n  this.zoomboxBox.style.position = \"absolute\";\n  this.zoomboxBox.style.visibility = \"hidden\";\n  this.zoomboxBox.style.width = \"1px\";\n  this.zoomboxBox.style.height = \"1px\";\n  this.zoomboxBox.style.top = \"-1px\";\n  this.zoomboxBox.style.left = \"-1px\";\n  this.zoomboxBox.style.border = \"1px solid #ff8000\";\n  this.zoomboxBox.style.background = \"#ffa000\";\n  this.zoomboxBox.style.opacity = 0.5;\n  this.zoomboxBox.style.filter = \"alpha(opacity=50)\";\n  this.zoomboxBox.style.zIndex = 50;\n  this.container.appendChild(this.zoomboxBox);\n\n  this.tracePoint = document.createElement(\"div\");\n  this.tracePoint.style.position = \"absolute\";\n  this.tracePoint.style.visibility = \"hidden\";\n  this.tracePoint.style.width = \"5px\";\n  this.tracePoint.style.height = \"5px\";\n  this.tracePoint.style.top = \"-1px\";\n  this.tracePoint.style.left = \"-1px\";\n  this.tracePoint.style.border = \"1px solid #ffffff\";\n  this.tracePoint.style.background = \"#ff8000\";\n  this.tracePoint.style.zIndex = 50;\n  this.container.appendChild(this.tracePoint);\n\n  this.traceDisplay = document.createElement(\"div\");\n  this.traceDisplayText = document.createTextNode(\"\");\n  this.traceDisplay.style.position = \"absolute\";\n  this.traceDisplay.style.visibility = \"hidden\";\n  this.traceDisplay.style.height = \"20px\";\n  this.traceDisplay.style.padding = \"4px\";\n  this.traceDisplay.style.top = \"-1px\";\n  this.traceDisplay.style.left = \"-1px\";\n  this.traceDisplay.style.border = \"1px solid #a0a0a0\";\n  this.traceDisplay.style.background = \"#ffffff\";\n  this.traceDisplay.style.webkitBoxShadow = \"5px 5px 5px #808080\";\n  this.traceDisplay.style.MozBoxShadow = \"5px 5px 5px #808080\";\n  this.traceDisplay.style.OBoxShadow = \"5px 5px 5px #808080\";\n  this.traceDisplay.style.msBoxShadow = \"5px 5px 5px #808080\";\n  this.traceDisplay.style.boxShadow = \"5px 5px 5px #808080\";\n  this.traceDisplay.style.zIndex = 50;\n  this.traceDisplay.appendChild(this.traceDisplayText);\n  this.container.appendChild(this.traceDisplay);\n\n  this.intersectionPoint = document.createElement(\"div\");\n  this.intersectionPoint.style.position = \"absolute\";\n  this.intersectionPoint.style.visibility = \"hidden\";\n  this.intersectionPoint.style.width = \"5px\";\n  this.intersectionPoint.style.height = \"5px\";\n  this.intersectionPoint.style.top = \"-1px\";\n  this.intersectionPoint.style.left = \"-1px\";\n  this.intersectionPoint.style.border = \"1px solid #ffffff\";\n  this.intersectionPoint.style.background = \"#ff8000\";\n  this.intersectionPoint.style.zIndex = 50;\n  this.container.appendChild(this.intersectionPoint);\n\n  this.intersectionDisplay = document.createElement(\"div\");\n  this.intersectionDisplayText = document.createTextNode(\"\");\n  this.intersectionDisplay.style.position = \"absolute\";\n  this.intersectionDisplay.style.visibility = \"hidden\";\n  this.intersectionDisplay.style.height = \"20px\";\n  this.intersectionDisplay.style.padding = \"4px\";\n  this.intersectionDisplay.style.top = \"-1px\";\n  this.intersectionDisplay.style.left = \"-1px\";\n  this.intersectionDisplay.style.border = \"1px solid #a0a0a0\";\n  this.intersectionDisplay.style.background = \"#ffffff\";\n  this.intersectionDisplay.style.webkitBoxShadow = \"5px 5px 5px #808080\";\n  this.intersectionDisplay.style.MozBoxShadow = \"5px 5px 5px #808080\";\n  this.intersectionDisplay.style.OBoxShadow = \"5px 5px 5px #808080\";\n  this.intersectionDisplay.style.msBoxShadow = \"5px 5px 5px #808080\";\n  this.intersectionDisplay.style.boxShadow = \"5px 5px 5px #808080\";\n  this.intersectionDisplay.style.zIndex = 50;\n  this.intersectionDisplay.appendChild(this.intersectionDisplayText);\n  this.container.appendChild(this.intersectionDisplay);\n\n  this.selectMode(FOOPLOT_MODE_MOVE);\n\n  this.canvas = false;\n  this.context = false;\n  this.vars = {\n    pi: 3.14159265358979323,\n    e: 2.718281828459045,\n    s: 0,\n    t: 0,\n    x: 0,\n    theta: 0,\n  };\n  this.plots = [];\n  this.plotlastid = 0;\n  this.width = false;\n  this.height = false;\n\n  // window options\n  this.xmin = -6.5;\n  this.xmax = 6.5;\n  this.ymin = -4;\n  this.ymax = 4;\n  this.xgrid = \"\"; // blank means auto\n  this.ygrid = \"\"; // blank means auto\n  this.xgridunits = null;\n  this.ygridunits = null;\n\n  this.showGrid = true;\n  this.showAxes = true;\n  this.showTicks = true;\n  this.showLabels = true;\n\n  this.gridColor = \"#D0D0D0\";\n  this.axesColor = \"#606060\";\n  this.labelsColor = \"#606060\";\n  this.backgroundColor = \"#FFFFFF\";\n\n  this.setSize = function () {\n    this.width = this.container.offsetWidth;\n    this.height = this.container.offsetHeight;\n    this.canvas.setAttribute(\"width\", this.width);\n    this.canvas.setAttribute(\"height\", this.height);\n    this.recorder.width = this.width;\n    this.recorder.height = this.height;\n  };\n\n  this.canvas = document.createElement(\"canvas\");\n  try {\n    if (FOOPLOT_MSIE) {\n      G_vmlCanvasManager.initElement(this.canvas);\n    }\n  } catch (error) {}\n  this.subcontainer.appendChild(this.canvas);\n  this.setSize();\n  this.canvas.style.webkitBackfaceVisibility = \"hidden\";\n  this.canvas.style.webkitTransform = \"translate3d(0,0,0)\";\n  this.canvas.style.MozTransform = \"translate3d(0,0,0)\";\n  this.context = this.canvas.getContext(\"2d\");\n\n  this.getRealGrid = function () {\n    let realxgrid, realygrid, orderfull, order, rem;\n\n    if (parseFloat(this.xgrid)) {\n      realxgrid = this.xgrid;\n    } else {\n      orderfull = -0.9 + Math.log(this.xmax - this.xmin) / Math.log(10);\n      order = Math.floor(orderfull);\n      rem = orderfull - order;\n      realxgrid = Math.pow(10, order);\n      if (rem > 0.7) realxgrid *= 5;\n      else if (rem > 0.3) realxgrid *= 2;\n    }\n    if (parseFloat(this.ygrid)) {\n      realygrid = this.ygrid;\n    } else {\n      orderfull =\n        -0.9 +\n        Math.log((this.width / this.height) * (this.ymax - this.ymin)) /\n          Math.log(10);\n      order = Math.floor(orderfull);\n      rem = orderfull - order;\n      realygrid = Math.pow(10, order);\n      if (rem > 0.7) realygrid *= 5;\n      else if (rem > 0.3) realygrid *= 2;\n    }\n    return [realxgrid, realygrid];\n  };\n\n  this.drawGrid = function () {\n    let px, py, g;\n\n    g = this.getRealGrid();\n    const realxgrid = g[0];\n    const realygrid = g[1];\n    if (\n      (this.ymax - this.ymin) / realygrid > this.height / 2 ||\n      (this.xmax - this.xmin) / realxgrid > this.width / 2\n    ) {\n      this.context.fillRect(0, 0, this.width, this.height);\n    } else {\n      this.context.beginPath();\n      for (\n        let y = Math.ceil(this.ymin / realygrid) * realygrid;\n        y <= this.ymax;\n        y += realygrid\n      ) {\n        py = (1 - (y - this.ymin) / (this.ymax - this.ymin)) * this.height;\n        this.context.moveTo(0, Math.floor(py));\n        this.context.lineTo(this.width, Math.floor(py));\n      }\n      for (\n        let x = Math.ceil(this.xmin / realxgrid) * realxgrid;\n        x <= this.xmax;\n        x += realxgrid\n      ) {\n        px = ((x - this.xmin) / (this.xmax - this.xmin)) * this.width;\n        this.context.moveTo(Math.floor(px), 0);\n        this.context.lineTo(Math.floor(px), this.height);\n      }\n      this.context.stroke();\n    }\n  };\n\n  this.drawLabels = function () {\n    let px, py, realxgrid, realygrid, printx, printy;\n    const g = this.getRealGrid();\n    realxgrid = g[0];\n    realygrid = g[1];\n    var orderx = Math.pow(\n      10,\n      2 - Math.floor(Math.log(this.xmax - this.xmin) / Math.log(10))\n    );\n    var ordery = Math.pow(\n      10,\n      2 - Math.floor(Math.log(this.ymax - this.ymin) / Math.log(10))\n    );\n    this.context.font =\n      \"14px Droid Sans,Trebuchet MS,Arial,Helvetica,sans-serif\";\n    px = ((0 - this.xmin) / (this.xmax - this.xmin)) * this.width;\n    this.context.textAlign = \"left\";\n    if (px < 0) px = 0;\n    if (px > this.width - this.width / 80 - 16) {\n      if (this.xmax > 0) px -= 20;\n      else px = this.width - this.width / 100 - 18;\n      this.context.textAlign = \"right\";\n    }\n    if ((this.ymax - this.ymin) / realygrid < this.height / 6) {\n      for (\n        let y = Math.floor(this.ymin / realygrid) * realygrid;\n        y <= this.ymax;\n        y += realygrid\n      ) {\n        py = ((this.ymax - y) / (this.ymax - this.ymin)) * this.height;\n        if (this.ygridunits === FOOPLOT_UNITS_PI) {\n          printy = this.tryToMakeFraction(y / this.vars.pi) + \"π\";\n        } else if (this.ygridunits === FOOPLOT_UNITS_E) {\n          printy = this.tryToMakeFraction(y / this.vars.e) + \"e\";\n        } else {\n          printy = parseFloat(Math.round(y * ordery) / ordery);\n        }\n        if (py > 8 && py < this.height - 8)\n          this.context.fillText(printy, px + this.width / 80, py + 2.5);\n      }\n    }\n    this.context.textAlign = \"center\";\n    py = (this.ymax / (this.ymax - this.ymin)) * this.height;\n    if (py < 0) py = 0;\n    if (py > this.height - 16 - this.width / 80) {\n      if (this.ymin < 0) py -= 22;\n      else py = this.height - 20 - this.width / 100;\n    }\n    if ((this.xmax - this.xmin) / realxgrid < this.width / 6) {\n      for (\n        let x = Math.floor(this.xmin / realxgrid) * realxgrid;\n        x <= this.xmax;\n        x += realxgrid\n      ) {\n        px = ((x - this.xmin) / (this.xmax - this.xmin)) * this.width;\n        if (this.xgridunits === FOOPLOT_UNITS_PI) {\n          printx = this.tryToMakeFraction(x / this.vars.pi) + \"π\";\n        } else if (this.xgridunits === FOOPLOT_UNITS_E) {\n          printx = this.tryToMakeFraction(x / this.vars.e) + \"e\";\n        } else {\n          printx = parseFloat(Math.round(x * orderx) / orderx);\n        }\n        if (px > 8 && px < this.width - 8)\n          this.context.fillText(printx, px, py + this.width / 80 + 8);\n      }\n    }\n  };\n\n  this.drawAxes = function () {\n    let px, py, realxgrid, realygrid;\n    const g = this.getRealGrid();\n    realxgrid = g[0];\n    realygrid = g[1];\n    if (this.xmin < 0 && this.xmax > 0) {\n      px = ((0 - this.xmin) / (this.xmax - this.xmin)) * this.width;\n    } else if (this.xmin >= 0) {\n      px = 0;\n    } else if (this.xmax <= 0) {\n      px = this.width;\n    }\n    this.context.beginPath();\n    this.context.moveTo(px, 0);\n    this.context.lineTo(px, this.height);\n    this.context.stroke();\n    if (this.showTicks) {\n      if ((this.ymax - this.ymin) / realygrid > this.height / 2) {\n        this.context.fillRect(\n          px - this.width / 100,\n          0,\n          this.width / 50,\n          this.height\n        );\n      } else {\n        this.context.beginPath();\n        for (\n          let y = Math.floor(this.ymin / realygrid) * realygrid;\n          y <= this.ymax;\n          y += realygrid\n        ) {\n          py = ((this.ymax - y) / (this.ymax - this.ymin)) * this.height;\n          this.context.moveTo(px - this.width / 100, py);\n          this.context.lineTo(px + this.width / 100, py);\n        }\n        this.context.stroke();\n      }\n    }\n    if (this.ymin < 0 && this.ymax > 0) {\n      py = (1 - (0 - this.ymin) / (this.ymax - this.ymin)) * this.height;\n    } else if (this.ymin >= 0) {\n      py = this.height;\n    } else if (this.ymax <= 0) {\n      py = 0;\n    }\n    this.context.beginPath();\n    this.context.moveTo(0, py);\n    this.context.lineTo(this.width, py);\n    this.context.stroke();\n    if (this.showTicks) {\n      if ((this.xmax - this.xmin) / realxgrid > this.width / 2) {\n        this.context.fillRect(\n          0,\n          py - this.width / 100,\n          this.width,\n          this.width / 50\n        );\n      } else {\n        this.context.beginPath();\n        for (\n          let x = Math.floor(this.xmin / realxgrid) * realxgrid;\n          x <= this.xmax;\n          x += realxgrid\n        ) {\n          px = ((x - this.xmin) / (this.xmax - this.xmin)) * this.width;\n          this.context.moveTo(px, py - this.width / 100);\n          this.context.lineTo(px, py + this.width / 100);\n        }\n        this.context.stroke();\n      }\n    }\n  };\n\n  this.clear = function () {\n    if (this.context != this.recorder) {\n      this.canvas.width = this.canvas.width;\n    }\n    if (this.context.clear) {\n      this.context.clear();\n    }\n    this.context.fillStyle = this.backgroundColor;\n    this.context.fillRect(0, 0, this.width, this.height);\n  };\n\n  // PRIVATE: EVENT HANDLERS\n\n  this.isMouseDown = 0;\n  this.dragInitX = 0;\n  this.dragInitY = 0;\n  this.dpx = 0;\n  this.dpy = 0;\n\n  this.container.onmousemove = function (e) {\n    if (e === null) e = window.event;\n    for (let i in FOOPLOT_INSTANCES)\n      if (this === FOOPLOT_INSTANCES[i].container)\n        var _self = FOOPLOT_INSTANCES[i];\n    if (e && e.preventDefault) e.preventDefault();\n    if (\n      e &&\n      (e.srcElement ? e.srcElement : e.target).className === \"fooplot-tool\"\n    )\n      return null;\n    if (_self.zoomTimeout) return null;\n    var offx = _self.container.offsetLeft;\n    var offy = _self.container.offsetTop;\n    if (_self.container.parentNode) {\n      offx += _self.container.parentNode.offsetLeft;\n      offy += _self.container.parentNode.offsetTop;\n    }\n    var mx =\n      (!FOOPLOT_MSIE ? e.pageX : document.body.scrollLeft + event.clientX) -\n      offx;\n    var my =\n      (!FOOPLOT_MSIE ? e.pageY : document.body.scrollTop + event.clientY) -\n      offy;\n    if (_self.isMouseDown) {\n      _self.dpx = mx - _self.dragInitX;\n      _self.dpy = my - _self.dragInitY;\n      switch (_self.selectedMode) {\n        case FOOPLOT_MODE_MOVE:\n          _self.subcontainer.style.left = _self.dpx + \"px\";\n          _self.subcontainer.style.top = _self.dpy + \"px\";\n          break;\n        case FOOPLOT_MODE_ZOOMBOX:\n          _self.zoomboxBox.style.width = _self.dpx + \"px\";\n          _self.zoomboxBox.style.height = _self.dpy + \"px\";\n          break;\n        case FOOPLOT_MODE_TRACE:\n          var initx =\n            (mx / _self.width) * (_self.xmax - _self.xmin) + _self.xmin;\n          var order = Math.pow(\n            10,\n            2 - Math.floor(Math.log(_self.xmax - _self.xmin) / Math.log(10))\n          );\n          var initx = parseFloat(Math.floor(initx * order) / order);\n          var inity =\n            (1 - my / _self.height) * (_self.ymax - _self.ymin) + _self.ymin;\n          _self.showTrace(initx, inity);\n          break;\n      }\n    }\n  };\n\n  /* this.container.onmouseover=function(e) {\n    if(e === null) e = window.event;\n    for (let i in FOOPLOT_INSTANCES) if(this===FOOPLOT_INSTANCES[i].container) var _self=FOOPLOT_INSTANCES[i];\n    if(e && e.preventDefault) e.preventDefault();\n    _self.toolcontainer.style.visibility='visible';\n    if(e && (e.srcElement?e.srcElement:e.target).className==='fooplot-tool') return null;\n  }\n\n  this.container.onmouseout=function(e) {\n    if(e === null) e = window.event;\n    for (let i in FOOPLOT_INSTANCES) if(this===FOOPLOT_INSTANCES[i].container) var _self=FOOPLOT_INSTANCES[i];\n    if(e && e.preventDefault) e.preventDefault();\n    _self.toolcontainer.style.visibility='hidden';\n    if(e && (e.srcElement?e.srcElement:e.target).className=='fooplot-tool') return null;\n    this.onmouseup(e);\n  } */\n\n  this.container.onmousedown = function (e) {\n    if (e === null) e = window.event;\n    for (let i in FOOPLOT_INSTANCES)\n      if (this === FOOPLOT_INSTANCES[i].container)\n        var _self = FOOPLOT_INSTANCES[i];\n    if (e && e.preventDefault) e.preventDefault();\n    if (\n      e &&\n      (e.srcElement ? e.srcElement : e.target).className == \"fooplot-tool\"\n    )\n      return null;\n    if (_self.zoomTimeout) return null;\n    var offx = _self.container.offsetLeft;\n    var offy = _self.container.offsetTop;\n    if (_self.container.parentNode) {\n      offx += _self.container.parentNode.offsetLeft;\n      offy += _self.container.parentNode.offsetTop;\n    }\n    var mx =\n      (!FOOPLOT_MSIE ? e.pageX : document.body.scrollLeft + event.clientX) -\n      offx;\n    var my =\n      (!FOOPLOT_MSIE ? e.pageY : document.body.scrollTop + event.clientY) -\n      offy;\n    _self.dragInitX = mx;\n    _self.dragInitY = my;\n    _self.isMouseDown = true;\n    switch (_self.selectedMode) {\n      case FOOPLOT_MODE_ZOOMBOX:\n        _self.zoomboxBox.style.left = mx + \"px\";\n        _self.zoomboxBox.style.top = my + \"px\";\n        _self.zoomboxBox.style.width = \"0px\";\n        _self.zoomboxBox.style.height = \"0px\";\n        _self.zoomboxBox.style.visibility = \"visible\";\n        break;\n    }\n  };\n\n  this.container.onmouseup = function (e) {\n    if (e === null) e = window.event;\n    if (e && e.preventDefault) e.preventDefault();\n    for (let i in FOOPLOT_INSTANCES)\n      if (this === FOOPLOT_INSTANCES[i].container)\n        var _self = FOOPLOT_INSTANCES[i];\n    var offx = _self.container.offsetLeft;\n    var offy = _self.container.offsetTop;\n    if (_self.container.parentNode) {\n      offx += _self.container.parentNode.offsetLeft;\n      offy += _self.container.parentNode.offsetTop;\n    }\n    var mx =\n      (!FOOPLOT_MSIE ? e.pageX : document.body.scrollLeft + event.clientX) -\n      offx;\n    var my =\n      (!FOOPLOT_MSIE ? e.pageY : document.body.scrollTop + event.clientY) -\n      offy;\n    if (_self.isMouseDown) {\n      _self.isMouseDown = false;\n      switch (_self.selectedMode) {\n        case FOOPLOT_MODE_MOVE:\n          if (_self.zoomTimeout) return null;\n          var dx = (_self.dpx / _self.width) * (_self.xmax - _self.xmin);\n          var dy = (_self.dpy / _self.height) * (_self.ymax - _self.ymin);\n          _self.xmin -= dx;\n          _self.xmax -= dx;\n          _self.ymin += dy;\n          _self.ymax += dy;\n          _self.dpx = 0;\n          _self.dpy = 0;\n          _self.subcontainer.style.left = \"0px\";\n          _self.subcontainer.style.top = \"0px\";\n          _self.reDraw();\n          _self.onWindowChange([\n            _self.xmin,\n            _self.xmax,\n            _self.ymin,\n            _self.ymax,\n          ]);\n          break;\n        case FOOPLOT_MODE_ZOOMBOX:\n          _self.zoomboxBox.style.visibility = \"hidden\";\n          _self.selectMode(FOOPLOT_MODE_MOVE);\n          if (\n            parseInt(_self.zoomboxBox.style.width) > 5 &&\n            parseInt(_self.zoomboxBox.style.height) > 5\n          ) {\n            var newxmin =\n              (parseInt(_self.zoomboxBox.style.left) / _self.width) *\n                (_self.xmax - _self.xmin) +\n              _self.xmin;\n            var newymax =\n              _self.ymax -\n              (parseInt(_self.zoomboxBox.style.top) / _self.height) *\n                (_self.ymax - _self.ymin);\n            var newxmax =\n              ((parseInt(_self.zoomboxBox.style.left) +\n                parseInt(_self.zoomboxBox.style.width)) /\n                _self.width) *\n                (_self.xmax - _self.xmin) +\n              _self.xmin;\n            var newymin =\n              _self.ymax -\n              ((parseInt(_self.zoomboxBox.style.top) +\n                parseInt(_self.zoomboxBox.style.height)) /\n                _self.height) *\n                (_self.ymax - _self.ymin);\n            _self.xmin = newxmin;\n            _self.xmax = newxmax;\n            _self.ymin = newymin;\n            _self.ymax = newymax;\n            _self.reDraw();\n            _self.onWindowChange([\n              _self.xmin,\n              _self.xmax,\n              _self.ymin,\n              _self.ymax,\n            ]);\n          }\n          break;\n        case FOOPLOT_MODE_INTERSECTION:\n          _self.showIntersection(\n            (_self.dragInitX / _self.width) * (_self.xmax - _self.xmin) +\n              _self.xmin\n          );\n          break;\n        case FOOPLOT_MODE_TRACE:\n          var initx =\n            (mx / _self.width) * (_self.xmax - _self.xmin) + _self.xmin;\n          var order = Math.pow(\n            10,\n            2 - Math.floor(Math.log(_self.xmax - _self.xmin) / Math.log(10))\n          );\n          var initx = parseFloat(Math.floor(initx * order) / order);\n          var inity =\n            (1 - my / _self.height) * (_self.ymax - _self.ymin) + _self.ymin;\n          _self.showTrace(initx, inity);\n          break;\n      }\n    }\n  };\n\n  this.lastTouch = null;\n\n  this.container.ontouchmove = function (e) {\n    e.preventDefault();\n    for (let i in FOOPLOT_INSTANCES)\n      if (this === FOOPLOT_INSTANCES[i].container)\n        var _self = FOOPLOT_INSTANCES[i];\n    if (e.touches.length >= 1) {\n      var _touch = e.touches[0];\n      _self.lastTouch = _touch;\n      this.mousemove(_touch);\n    } else {\n      _self.lastTouch = null;\n    }\n  };\n\n  this.container.ontouchstart = function (e) {\n    e.preventDefault();\n    for (let i in FOOPLOT_INSTANCES)\n      if (this === FOOPLOT_INSTANCES[i].container)\n        var _self = FOOPLOT_INSTANCES[i];\n    if (e.touches.length >= 1) {\n      var _touch = e.touches[0];\n      _self.lastTouch = _touch;\n      this.mousedown(_touch);\n    } else {\n      _self.lastTouch = null;\n    }\n  };\n\n  this.container.ontouchend = function (e) {\n    e.preventDefault();\n    for (let i in FOOPLOT_INSTANCES)\n      if (this === FOOPLOT_INSTANCES[i].container)\n        var _self = FOOPLOT_INSTANCES[i];\n    if (e.touches.length == 0) {\n      this.mouseup(_self.lastTouch);\n      _self.lastTouch = null;\n    }\n  };\n\n  this.onmousewheel = function (e) {\n    if (e === null) e = window.event;\n    for (let i in FOOPLOT_INSTANCES)\n      if (this === FOOPLOT_INSTANCES[i].container)\n        var _self = FOOPLOT_INSTANCES[i];\n    if (e && e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n    if (\n      e &&\n      (e.srcElement ? e.srcElement : e.target).className == \"fooplot-tool\"\n    )\n      return null;\n    var delta = 0;\n    if (e.wheelDelta) {\n      /* IE/Opera. */\n      delta = e.wheelDelta / 120;\n    } else if (e.detail) {\n      /** Mozilla case. */\n      delta = -e.detail / 3;\n    }\n    if (delta > 0 && _self.zoomPendingFactor <= 8) _self.zoom(1.25);\n    else if (delta < 0 && _self.zoomPendingFactor >= 0.125) _self.zoom(0.8);\n    else if (delta) _self.zoom(1);\n  };\n\n  this.container.onmousewheel = this.onmousewheel;\n\n  if (this.container.addEventListener) {\n    this.container.addEventListener(\"DOMMouseScroll\", this.onmousewheel, false);\n  }\n\n  this.drawPoints = function (points) {\n    if (points.length) {\n      for (let i in points) {\n        if (points[i].length == 2) {\n          px =\n            ((points[i][0] - this.xmin) / (this.xmax - this.xmin)) * this.width;\n          py =\n            ((this.ymax - points[i][1]) / (this.ymax - this.ymin)) *\n            this.height;\n          if (\n            !isNaN(px) &&\n            !isNaN(py) &&\n            0 <= px &&\n            px <= this.width &&\n            0 <= py &&\n            py <= this.height\n          ) {\n            this.context.fillRect(px - 2, py - 2, 5, 5);\n          }\n        }\n      }\n    }\n  };\n\n  this.drawFunction = function (jeq) {\n    var px,\n      py,\n      y,\n      thisIsNaN = false,\n      lastOnScreen,\n      lastIsNaN = false,\n      thisOnScreen,\n      lastpx,\n      lastpy,\n      lasty,\n      lastychange,\n      isRedoLoop = false;\n    this.context.beginPath();\n    var started = false;\n    var pxstep = FOOPLOT_MSIE ? 1 : 0.25;\n    this.context.moveTo(-10, this.height / 2);\n    for (let px = 0; px < this.width; px += pxstep) {\n      this.vars.x = (px / this.width) * (this.xmax - this.xmin) + this.xmin;\n      y = jeq(this.vars, FOOPLOT_MATH);\n      if (isNaN(y)) {\n        if (!lastIsNaN) {\n          if (lastychange > 0 && lasty > 0) this.context.lineTo(lastpx, 0);\n          else if (lastychange < 0 && lasty < 0)\n            this.context.lineTo(lastpx, this.height);\n        }\n        thisOnScreen = false;\n        thisIsNaN = true;\n      } else {\n        py = ((this.ymax - y) / (this.ymax - this.ymin)) * this.height;\n        thisOnScreen = py >= 0 && py <= this.height;\n        if (py > this.height + 100) py = this.height + 100;\n        if (py < -100) py = -100;\n        thisIsNaN = false;\n      }\n      if (pxstep > 0.001 && thisOnScreen && !lastOnScreen) {\n        px -= pxstep;\n        pxstep /= 10;\n      } else {\n        if (!(lastIsNaN || thisIsNaN) && (lastOnScreen || thisOnScreen)) {\n          this.context.lineTo(px, py);\n        } else {\n          if (\n            !lastIsNaN &&\n            !thisIsNaN &&\n            lasty * y < 0 &&\n            lasty * y > Math.min(-10, this.ymin - this.ymax)\n          ) {\n            this.context.lineTo(px, py);\n          } else {\n            this.context.moveTo(px, py);\n          }\n        }\n        if (thisOnScreen) pxstep = pxstep / Math.abs(lastpy - py);\n        else pxstep = 1;\n        if (pxstep > 2) pxstep = 2;\n        else if (pxstep < 0.001) pxstep = 0.001;\n        else if (isNaN(pxstep)) pxstep = 1;\n        lastpx = px;\n        lastpy = py;\n        lasty = y;\n        lastOnScreen = thisOnScreen;\n        lastIsNaN = thisIsNaN;\n      }\n    }\n    this.context.stroke();\n  };\n\n  this.drawPolar = function (jeq, thetamin, thetamax, thetastep) {\n    var px, py, x, y, r, lastOnScreen, thisOnScreen;\n    this.context.beginPath();\n    var started = false;\n    for (\n      this.vars.theta = thetamin;\n      this.vars.theta <= thetamax;\n      this.vars.theta += thetastep\n    ) {\n      r = jeq(this.vars, FOOPLOT_MATH);\n      x = r * Math.cos(this.vars.theta);\n      y = r * Math.sin(this.vars.theta);\n      if (isNaN(y) || isNaN(x)) thisOnScreen = false;\n      else {\n        px = ((x - this.xmin) / (this.xmax - this.xmin)) * this.width;\n        py = ((this.ymax - y) / (this.ymax - this.ymin)) * this.height;\n        if (!started) {\n          started = true;\n          this.context.moveTo(px, py);\n        }\n        thisOnScreen = px > 0 && px < this.width && py > 0 && py < this.height;\n        if (lastOnScreen || thisOnScreen) {\n          this.context.lineTo(px, py);\n        } else {\n          this.context.moveTo(px, py);\n        }\n      }\n      lastOnScreen = thisOnScreen;\n    }\n    this.context.stroke();\n  };\n\n  this.drawParametric = function (jeqx, jeqy, smin, smax, sstep) {\n    var px, py, x, y, lastOnScreen, thisOnScreen;\n    var started = false;\n    this.context.beginPath();\n    for (this.vars.s = smin; this.vars.s <= smax; this.vars.s += sstep) {\n      x = jeqx(this.vars, FOOPLOT_MATH);\n      y = jeqy(this.vars, FOOPLOT_MATH);\n      if (isNaN(y) || isNaN(x)) thisOnScreen = false;\n      else {\n        px = ((x - this.xmin) / (this.xmax - this.xmin)) * this.width;\n        py = ((this.ymax - y) / (this.ymax - this.ymin)) * this.height;\n        if (!started) {\n          started = true;\n          this.context.moveTo(px, py);\n        }\n        thisOnScreen = px > 0 && px < this.width && py > 0 && py < this.height;\n        if (lastOnScreen || thisOnScreen) {\n          this.context.lineTo(px, py);\n        } else {\n          this.context.moveTo(px, py);\n        }\n      }\n      lastOnScreen = thisOnScreen;\n    }\n    this.context.stroke();\n  };\n\n  this.findIntersection = function (jeq0, jeq1, initx) {\n    var xpd,\n      y0,\n      y1,\n      y,\n      ypd,\n      d = 0.0000000001;\n    var i = 0;\n    if (jeq0 === null) return 0;\n    if (jeq1 === null) {\n      jeq1 = function () {\n        return 0;\n      };\n    }\n    this.vars.x = initx;\n    y0 = jeq0(this.vars, FOOPLOT_MATH);\n    y1 = jeq1(this.vars, FOOPLOT_MATH);\n    y = y0 - y1;\n    while (i < 100) {\n      i++;\n      y0 = jeq0(this.vars, FOOPLOT_MATH);\n      y1 = jeq1(this.vars, FOOPLOT_MATH);\n      y = y0 - y1;\n      this.vars.x += d;\n      y0 = jeq0(this.vars, FOOPLOT_MATH);\n      y1 = jeq1(this.vars, FOOPLOT_MATH);\n      ypd = y0 - y1;\n      if (y - ypd != 0) {\n        this.vars.x += (y * d) / (y - ypd);\n      }\n    }\n    y0 = jeq0(this.vars, FOOPLOT_MATH);\n    y1 = jeq1(this.vars, FOOPLOT_MATH);\n    y = y0 - y1;\n    if (isNaN(this.vars.x)) return null;\n    if (Math.abs(y) > 1e-9) return null;\n    else return parseFloat(this.vars.x.toFixed(9));\n  };\n\n  this.showTrace = function (initx, inity) {\n    var i,\n      y,\n      minDistance = 1e10,\n      besti = null,\n      besty = null;\n    this.vars.x = initx;\n\n    for (let i in this.plots) {\n      if (this.plots[i][\"type\"] === FOOPLOT_TYPE_FUNCTION) {\n        y = this.plots[i].jeq(this.vars);\n        if (Math.abs(y - inity) < minDistance) {\n          minDistance = Math.abs(y - inity);\n          besti = i;\n          besty = y;\n        }\n      }\n    }\n    if (besti === null) return null;\n    px = ((initx - this.xmin) / (this.xmax - this.xmin)) * this.width;\n    py = ((this.ymax - besty) / (this.ymax - this.ymin)) * this.height;\n    this.tracePoint.style.visibility = \"\";\n    this.tracePoint.style.left = px - 3 + \"px\";\n    this.tracePoint.style.top = py - 3 + \"px\";\n    this.traceDisplay.style.visibility = \"\";\n    this.traceDisplay.style.left = px + \"px\";\n    this.traceDisplay.style.top =\n      py + 8 - (py > this.height / 2 ? 48 : 0) + \"px\";\n    this.traceDisplayText.nodeValue =\n      \"(\" +\n      parseFloat(initx.toFixed(9)) +\n      \",\" +\n      parseFloat(besty.toFixed(9)) +\n      \")\";\n  };\n\n  this.showIntersection = function (initx) {\n    this.vars.x = initx;\n    var i,\n      j,\n      yi,\n      yj,\n      minDistance = 1e10,\n      bestPair = null;\n    this.plotstmp = this.plots.slice(0);\n    this.plotstmp.unshift({\n      type: FOOPLOT_TYPE_FUNCTION,\n      jeq: function () {\n        return 0;\n      },\n    });\n    for (let i in this.plotstmp) {\n      if (this.plotstmp[i][\"type\"] === FOOPLOT_TYPE_FUNCTION) {\n        for (let j in this.plotstmp) {\n          if (i != j && this.plotstmp[j][\"type\"] === FOOPLOT_TYPE_FUNCTION) {\n            yi = this.plotstmp[i].jeq(this.vars);\n            yj = this.plotstmp[j].jeq(this.vars);\n            if (Math.abs(yi - yj) < minDistance) {\n              minDistance = Math.abs(yi - yj);\n              bestPair = [i, j];\n            }\n          }\n        }\n      }\n    }\n    if (bestPair === null) return null;\n    xroot = this.findIntersection(\n      this.plotstmp[bestPair[0]].jeq,\n      this.plotstmp[bestPair[1]].jeq,\n      initx\n    );\n    y = this.plotstmp[bestPair[0]].jeq(this.vars);\n    y = parseFloat(y.toFixed(9));\n    px = ((xroot - this.xmin) / (this.xmax - this.xmin)) * this.width;\n    py = ((this.ymax - y) / (this.ymax - this.ymin)) * this.height;\n    if (xroot != null) {\n      this.intersectionPoint.style.visibility = \"\";\n      this.intersectionPoint.style.left = px - 3 + \"px\";\n      this.intersectionPoint.style.top = py - 3 + \"px\";\n      this.intersectionDisplay.style.visibility = \"\";\n      this.intersectionDisplay.style.left = px + \"px\";\n      this.intersectionDisplay.style.top =\n        py + 8 - (py > this.height / 2 ? 48 : 0) + \"px\";\n      this.intersectionDisplayText.nodeValue = \"(\" + xroot + \",\" + y + \")\";\n    }\n  };\n\n  this.tryToMakeFraction = function (testnum) {\n    var numerator, denominator;\n    // check if it is a nice fraction\n    for (let denominator = 1; denominator < 16; denominator++) {\n      numerator = (testnum * denominator).toFixed(9);\n      if (numerator.indexOf(\".000000000\") != -1)\n        return (\n          parseFloat(numerator) + (denominator === 1 ? \"\" : \"/\" + denominator)\n        );\n    }\n    // return the decimal back if we fail to get a nice fraction\n    return parseFloat(testnum.toFixed(9)).toString();\n  };\n\n  // PRIVATE: EQUATION PARSNIP\n\n  this.parseEquationError = \"\";\n\n  this.parseEquationHasElement = function (v, e) {\n    for (let i = 0; i < v.length; i++) if (v[i] === e) return true;\n    return false;\n  };\n\n  this.parseEquationFixPowers = function (v) {\n    if (v === null) {\n      this.parseEquationError\n        ? null\n        : (this.parseEquationError = \"syntax error\");\n      return null;\n    }\n    for (let i = 0; i < v.length; i++) {\n      if (this.parseEquationIsArray(v[i])) {\n        v[i] = this.parseEquationFixPowers(v[i]);\n        if (v[i] === null) {\n          this.parseEquationError\n            ? null\n            : (this.parseEquationError = \"syntax error\");\n          return null;\n        }\n      }\n    }\n    for (let i = 0; i < v.length; i++) {\n      if (v[i] === \"^\") {\n        if (v[i - 1] === null || v[i + 1] === null) {\n          this.parseEquationError =\n            \"^ requires two arguments, for example x^2 or (x+1)^(x+2).\";\n          return null;\n        }\n        v.splice(\n          i - 1,\n          3,\n          new Array(\"Math.pow\", new Array(\"(\", v[i - 1], \",\", v[i + 1], \")\"))\n        );\n        i -= 2;\n      }\n    }\n    return v;\n  };\n\n  this.parseEquationFixFunctions = function (v) {\n    if (v === null) {\n      this.parseEquationError\n        ? null\n        : (this.parseEquationError = \"syntax error\");\n      return null;\n    }\n    for (let i = 0; i < v.length; i++) {\n      if (this.parseEquationIsArray(v[i])) {\n        v[i] = this.parseEquationFixFunctions(v[i]);\n        if (v[i] === null) {\n          this.parseEquationError\n            ? null\n            : (this.parseEquationError = \"syntax error\");\n          return null;\n        }\n      }\n    }\n    for (let i = 0; i < v.length; i++) {\n      if (!this.parseEquationIsArray(v[i])) {\n        if (FOOPLOT_MATH[v[i]] != undefined) {\n          if (v[i + 1] === null) {\n            this.parseEquationEror =\n              \"function \" + v[i] + \" requires an argument.\";\n            return null;\n          }\n          v[i] = \"FOOPLOT_MATH.\" + v[i].toLowerCase();\n          v.splice(i, 2, new Array(\"(\", v[i], v[i + 1], \")\"));\n          i--;\n        }\n      }\n    }\n    return v;\n  };\n\n  this.parseEquationIsArray = function (v) {\n    if (v == null) {\n      return 0;\n    }\n    if (v.constructor.toString().indexOf(\"Array\") === -1) return false;\n    return true;\n  };\n\n  this.parseEquationJoinArray = function (v) {\n    var t = \"\";\n    for (let i = 0; i < v.length; i++) {\n      if (this.parseEquationIsArray(v[i])) {\n        t += this.parseEquationJoinArray(v[i]);\n      } else {\n        t += v[i];\n      }\n    }\n\n    return t;\n  };\n\n  this.parseEquation = function (eq, vars) {\n    let tokens, e, jeq;\n    let pstart = -1;\n    if (!vars) vars = this.vars;\n    // jeq_error=\"\";\n    e = eq.replace(/ /g, \"\");\n    e = e.replace(/([0-9])([a-df-z]|[a-z][a-z]|\\()/gi, \"$1*$2\");\n    e = e.replace(/(\\))([0-9a-df-z]|[a-z][a-z]|\\()/gi, \"$1*$2\");\n    e = e.replace(/([a-z0-9\\.])([^a-z0-9\\.])/gi, \"$1 $2\");\n    e = e.replace(/([^a-z0-9\\.])([a-z0-9\\.])/gi, \"$1 $2\");\n    e = e.replace(/(\\-|\\)|\\()/g, \" $1 \");\n    tokens = e.split(/ +/);\n    for (let i = 0; i < tokens.length; i++) {\n      tokens[i] = tokens[i].replace(/ /g, \"\");\n      tokens[i] = tokens[i].replace(/_/g, \".\");\n      if (tokens[i] === \"\") {\n        tokens.splice(i, 1);\n        i--;\n      } else if (\n        tokens[i].match(/^[a-z][a-z0-9]*$/i) &&\n        vars[tokens[i]] != undefined\n      ) {\n        tokens[i] = \"vars.\" + tokens[i];\n      } else if (\n        tokens[i].length > 0 &&\n        tokens[i].match(/^[a-z][a-z0-9]*$/i) &&\n        FOOPLOT_MATH[tokens[i]] === undefined\n      ) {\n        this.parseEquationError = \"invalid variable or function: \" + tokens[i];\n        return null;\n      }\n    }\n    while (\n      this.parseEquationHasElement(tokens, \"(\") ||\n      this.parseEquationHasElement(tokens, \")\")\n    ) {\n      pstart = -1;\n      for (let i = 0; i < tokens.length; i++) {\n        if (tokens[i] === \"(\") pstart = i;\n        if (tokens[i] === \")\" && pstart == -1) {\n          this.parseEquationError = \"unmatched right parenthesis )\";\n          return null;\n        }\n        if (tokens[i] === \")\" && pstart != -1) {\n          tokens.splice(pstart, i - pstart + 1, tokens.slice(pstart, i + 1));\n          i = -1;\n          pstart = -1;\n        }\n      }\n      if (pstart != -1) {\n        this.parseEquationError = \"unmatched left parenthesis (\";\n        return null;\n      }\n    }\n    tokens = this.parseEquationFixFunctions(tokens);\n    if (tokens === null) {\n      return null;\n    }\n    tokens = this.parseEquationFixPowers(tokens);\n    if (tokens === null) {\n      return null;\n    }\n    eval(\n      \"jeq=(vars, FOOPLOT_MATH) => { return \" +\n        this.parseEquationJoinArray(tokens) +\n        \"; }\"\n    );\n    return jeq;\n  };\n\n  this.parseConst = function (eq) {\n    var consts = { pi: this.vars.pi, e: this.vars.e };\n    var f = this.parseEquation(eq, consts);\n    if (f) return parseFloat(f(consts));\n    else {\n      console.error(this.parseEquationError);\n      return 0;\n    }\n  };\n\n  // PUBLIC\n\n  this.reDraw = function () {\n    this.hideIntersection();\n    this.hideTrace();\n    this.clear();\n    if (this.showGrid) {\n      this.context.strokeStyle = this.gridColor;\n      this.context.fillStyle = this.gridColor;\n      this.drawGrid();\n    }\n    if (this.showAxes) {\n      this.context.strokeStyle = this.axesColor;\n      this.context.fillStyle = this.axesColor;\n      this.drawAxes();\n    }\n    if (this.showLabels) {\n      this.context.fillStyle = this.labelsColor;\n      this.drawLabels();\n    }\n\n    for (let i in this.plots) {\n      this.context.strokeStyle = \"#000000\";\n      switch (this.plots[i].type) {\n        case FOOPLOT_TYPE_FUNCTION:\n          this.context.strokeStyle = this.plots[i].options.color;\n          this.drawFunction(this.plots[i].jeq);\n          break;\n        case FOOPLOT_TYPE_POLAR:\n          this.context.strokeStyle = this.plots[i].options.color;\n          this.drawPolar(\n            this.plots[i].jeq,\n            this.plots[i].options.thetamin,\n            this.plots[i].options.thetamax,\n            this.plots[i].options.thetastep\n          );\n          break;\n        case FOOPLOT_TYPE_PARAMETRIC:\n          this.context.strokeStyle = this.plots[i].options.color;\n          this.drawParametric(\n            this.plots[i].jeqx,\n            this.plots[i].jeqy,\n            this.plots[i].options.smin,\n            this.plots[i].options.smax,\n            this.plots[i].options.sstep\n          );\n          break;\n        case FOOPLOT_TYPE_POINTS:\n          this.context.fillStyle = this.plots[i].options.color;\n          this.drawPoints(this.plots[i].eq);\n          break;\n      }\n    }\n    if (FOOPLOT_MSIE) {\n      // hack for MSIE + excanvas which sometimes sporadically does not display the last-drawn path\n      // so we draw a dummy path\n      this.context.beginPath();\n      this.context.moveTo(0, -1);\n      this.context.lineTo(-1, -1);\n      this.context.stroke();\n    }\n  };\n\n  this.addPlot = function (eq, type, options) {\n    if (!type) type = FOOPLOT_TYPE_FUNCTION;\n    if (!options) options = {};\n    if (!options.color) options.color = \"#000000\";\n    if (!options.width) options.width = 1;\n    switch (type) {\n      case FOOPLOT_TYPE_FUNCTION: {\n        const jeq = this.parseEquation(eq);\n        if (!jeq) {\n          console.error(this.parseEquationError);\n          return null;\n        }\n        this.plots.push({\n          id: this.plotlastid++,\n          type: type,\n          eq: eq,\n          jeq: jeq,\n          options: options,\n        });\n        break;\n      }\n      case FOOPLOT_TYPE_POLAR: {\n        const jeq = this.parseEquation(eq);\n        if (!jeq) {\n          console.error(this.parseEquationError);\n          return null;\n        }\n        options[\"thetamin\"] = options[\"thetamin\"]\n          ? this.parseConst(options[\"thetamin\"])\n          : 0;\n        options[\"thetamax\"] = options[\"thetamax\"]\n          ? this.parseConst(options[\"thetamax\"])\n          : 2 * this.vars.pi;\n        options[\"thetastep\"] = options[\"thetastep\"]\n          ? this.parseConst(options[\"thetastep\"])\n          : 0.01;\n        if (options[\"thetastep\"] <= 0) options[\"thetastep\"] = 0.01;\n        this.plots.push({\n          id: this.plotlastid++,\n          type: type,\n          eq: eq,\n          jeq: jeq,\n          options: options,\n        });\n        break;\n      }\n      case FOOPLOT_TYPE_PARAMETRIC: {\n        const jeqx = this.parseEquation(eq[0]);\n        if (!jeqx) {\n          console.error(this.parseEquationError);\n          return null;\n        }\n        const jeqy = this.parseEquation(eq[1]);\n        if (!jeqy) {\n          console.error(this.parseEquationError);\n          return null;\n        }\n        options[\"smin\"] = options[\"smin\"]\n          ? this.parseConst(options[\"smin\"])\n          : 0;\n        options[\"smax\"] = options[\"smax\"]\n          ? this.parseConst(options[\"smax\"])\n          : 10;\n        options[\"sstep\"] = options[\"sstep\"]\n          ? this.parseConst(options[\"sstep\"])\n          : 0.01;\n        this.plots.push({\n          id: this.plotlastid++,\n          type: type,\n          eq: eq,\n          jeqx: jeqx,\n          jeqy: jeqy,\n          options: options,\n        });\n        break;\n      }\n      case FOOPLOT_TYPE_POINTS: {\n        if (eq.length === null) return null;\n        this.plots.push({\n          id: this.plotlastid++,\n          type: type,\n          eq: eq,\n          options: options,\n        });\n        break;\n      }\n      default:\n        console.error(\"Error: invalid plot type\");\n    }\n    return this.plots.size;\n  };\n\n  this.deletePlot = function (plotid) {\n    // not yet implemented\n  };\n\n  this.deleteAllPlots = function () {\n    this.plots = [];\n  };\n\n  this.getGrid = function () {\n    return [this.xgrid, this.ygrid];\n  };\n\n  this.setGrid = function (g) {\n    g[0] = g[0].replace(\" \", \"\");\n    if (g[0]) {\n      g[0] = this.parseConst(g[0]);\n      if (g[0] <= 0) g[0] = 1;\n      this.xgrid = g[0];\n      if (((720 * g[0]) / this.vars.pi).toFixed(6).match(/0000$/) !== null) {\n        this.xgridunits = FOOPLOT_UNITS_PI;\n      } else if (\n        ((720 * g[0]) / this.vars.e).toFixed(6).match(/0000$/) !== null\n      ) {\n        this.xgridunits = FOOPLOT_UNITS_E;\n      } else {\n        this.xgridunits = null;\n      }\n    } else {\n      this.xgrid = null;\n      this.xgridunits = null;\n    }\n    g[1] = g[1].replace(\" \", \"\");\n    if (g[1]) {\n      g[1] = this.parseConst(g[1]);\n      if (g[1] <= 0) g[1] = 1;\n      this.ygrid = g[1];\n      if (((720 * g[1]) / this.vars.pi).toFixed(6).match(/0000$/) !== null) {\n        this.ygridunits = FOOPLOT_UNITS_PI;\n      } else if (\n        ((720 * g[1]) / this.vars.e).toFixed(6).match(/0000$/) !== null\n      ) {\n        this.ygridunits = FOOPLOT_UNITS_E;\n      } else {\n        this.ygridunits = null;\n      }\n    } else {\n      this.ygrid = null;\n      this.ygridunits = null;\n    }\n  };\n\n  this.getWindow = function () {\n    return [this.xmin, this.xmax, this.ymin, this.ymax];\n  };\n\n  this.setWindow = function (w) {\n    w[0] = this.parseConst(w[0]);\n    w[1] = this.parseConst(w[1]);\n    w[2] = this.parseConst(w[2]);\n    w[3] = this.parseConst(w[3]);\n    if (w[1] > w[0] && w[3] > w[2]) {\n      this.xmin = w[0];\n      this.xmax = w[1];\n      this.ymin = w[2];\n      this.ymax = w[3];\n    } else {\n      // throw error\n    }\n  };\n\n  this.setBackgroundColor = function (color) {\n    this.backgroundColor = color;\n    this.container.style.background = color;\n    this.subcontainer.style.background = color;\n  };\n\n  this.setLabelsColor = function (color) {\n    this.labelsColor = color;\n  };\n\n  this.setAxesColor = function (color) {\n    this.axesColor = color;\n  };\n\n  this.setGridColor = function (color) {\n    this.gridColor = color;\n  };\n\n  this.setShowAxes = function (v) {\n    this.showAxes = v;\n  };\n\n  this.setShowTicks = function (v) {\n    this.showTicks = v;\n  };\n\n  this.setShowLabels = function (v) {\n    this.showLabels = v;\n  };\n\n  this.setShowGrid = function (v) {\n    this.showGrid = v;\n  };\n\n  this.getSVG = function () {\n    this.context = this.recorder;\n    this.reDraw();\n    this.context = this.canvas.getContext(\"2d\");\n    return this.recorder.getSVG();\n  };\n\n  // EVENTS (user-settable functions)\n  this.onWindowChange = function (w) {};\n}\n\nconst FOOPLOT_TRANSITIONS = (function () {\n  var b = document.body || document.documentElement;\n  var s = b.style;\n  var p = \"transition\";\n  if (typeof s[p] === \"string\") {\n    return true;\n  }\n  (v = [\"Moz\", \"Webkit\", \"Khtml\", \"O\", \"ms\"]),\n    (p = p.charAt(0).toUpperCase() + p.substr(1));\n  for (let i = 0; i < v.length; i++) {\n    if (typeof s[v[i] + p] === \"string\") {\n      return true;\n    }\n  }\n  return false;\n})();\n\nFooplot.CONSTANTS = FOOPLOT_CONSTANTS;\nexport default Fooplot;\n","import Fooplot from \"./lib\";\nimport { FOOPLOT_TYPE_FUNCTION } from \"./lib/constants\";\n\nfunction main() {\n  const myPlot = new Fooplot(document.getElementById(\"myPlot\"));\n  myPlot.addPlot(\"csch(x)\", FOOPLOT_TYPE_FUNCTION);\n  myPlot.reDraw();\n}\n\nwindow.addEventListener(\"DOMContentLoaded\", main, false);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}